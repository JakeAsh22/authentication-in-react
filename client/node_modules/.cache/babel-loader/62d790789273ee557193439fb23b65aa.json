{"ast":null,"code":"var _jsxFileName = \"/Users/Guest/Desktop/react-ua/client/src/components/auth/LoginForm.js\";\nimport React from 'react';\nimport OktaAuth from '@okta/okta-auth-js';\nimport { withAuth } from '@okta/okta-react';\nexport default withAuth(class LoginForm extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      sessionToken: null,\n      error: null,\n      username: '',\n      password: ''\n    };\n    this.oktaAuth = new OktaAuth({\n      url: props.baseUrl\n    });\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.handleUsernameChange = this.handleUsernameChange.bind(this);\n    this.handlePasswordChange = this.handlePasswordChange.bind(this);\n  }\n\n  handleSubmit(e) {\n    e.preventDefault();\n    this.oktaAuth.signIn({\n      username: this.state.username,\n      password: this.state.password\n    }).then(res => this.setState({\n      sessionToken: res.sessionToken\n    })).catch(err => {\n      this.setState({\n        error: err.message\n      });\n      console.log(err.statusCode + ' error', err);\n    });\n  }\n\n  handleUsernameChange(e) {\n    this.setState({\n      username: e.target.value\n    });\n  }\n\n  handlePasswordChange(e) {\n    this.setState({\n      password: e.target.value\n    });\n  }\n\n  render() {\n    if (this.state.sessionToken) {\n      this.props.auth.redirect({\n        sessionToken: this.state.sessionToken\n      });\n      return null;\n    }\n\n    const errorMessage = this.state.error ? React.createElement(\"span\", {\n      className: \"error-message\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    }, this.state.error) : null;\n    return React.createElement(\"form\", {\n      onSubmit: this.handleSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }, errorMessage, React.createElement(\"div\", {\n      className: \"form-element\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    }, \"Username:\"), React.createElement(\"input\", {\n      id: \"username\",\n      type: \"text\",\n      value: this.state.username,\n      onChange: this.handleUsernameChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"form-element\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }, \"Password:\"), React.createElement(\"input\", {\n      id: \"password\",\n      type: \"password\",\n      value: this.state.password,\n      onChange: this.handlePasswordChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    })), React.createElement(\"input\", {\n      id: \"submit\",\n      type: \"submit\",\n      value: \"Submit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }));\n  }\n\n});","map":{"version":3,"sources":["/Users/Guest/Desktop/react-ua/client/src/components/auth/LoginForm.js"],"names":["React","OktaAuth","withAuth","LoginForm","Component","constructor","props","state","sessionToken","error","username","password","oktaAuth","url","baseUrl","handleSubmit","bind","handleUsernameChange","handlePasswordChange","e","preventDefault","signIn","then","res","setState","catch","err","message","console","log","statusCode","target","value","render","auth","redirect","errorMessage"],"mappings":"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","sourcesContent":["import React from 'react';\nimport OktaAuth from '@okta/okta-auth-js';\nimport { withAuth } from '@okta/okta-react';\n\nexport default withAuth(\n  class LoginForm extends React.Component {\n    constructor(props) {\n      super(props);\n      this.state = {\n        sessionToken: null,\n        error: null,\n        username: '',\n        password: ''\n      };\n\n      this.oktaAuth = new OktaAuth({ url: props.baseUrl });\n\n      this.handleSubmit = this.handleSubmit.bind(this);\n      this.handleUsernameChange = this.handleUsernameChange.bind(this);\n      this.handlePasswordChange = this.handlePasswordChange.bind(this);\n    }\n\n    handleSubmit(e) {\n      e.preventDefault();\n      this.oktaAuth\n        .signIn({\n          username: this.state.username,\n          password: this.state.password\n        })\n        .then(res =>\n          this.setState({\n            sessionToken: res.sessionToken\n          })\n        )\n        .catch(err => {\n          this.setState({ error: err.message });\n          console.log(err.statusCode + ' error', err);\n        });\n    }\n\n    handleUsernameChange(e) {\n      this.setState({ username: e.target.value });\n    }\n\n    handlePasswordChange(e) {\n      this.setState({ password: e.target.value });\n    }\n\n    render() {\n      if (this.state.sessionToken) {\n        this.props.auth.redirect({ sessionToken: this.state.sessionToken });\n        return null;\n      }\n\n      const errorMessage = this.state.error ? (\n        <span className=\"error-message\">{this.state.error}</span>\n      ) : null;\n\n      return (\n        <form onSubmit={this.handleSubmit}>\n          {errorMessage}\n          <div className=\"form-element\">\n            <label>Username:</label>\n            <input\n              id=\"username\"\n              type=\"text\"\n              value={this.state.username}\n              onChange={this.handleUsernameChange}\n            />\n          </div>\n\n          <div className=\"form-element\">\n            <label>Password:</label>\n            <input\n              id=\"password\"\n              type=\"password\"\n              value={this.state.password}\n              onChange={this.handlePasswordChange}\n            />\n          </div>\n          <input id=\"submit\" type=\"submit\" value=\"Submit\" />\n        </form>\n      );\n    }\n  }\n);"]},"metadata":{},"sourceType":"module"}